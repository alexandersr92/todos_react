{"version":3,"sources":["TodoContext/index.js","TodoContext/useLocalStorage.js","components/TodoCounter.js","components/TodoSearch.js","components/TodoList.js","components/TodoItem.js","components/CreateTodo.js","components/TodoForm.js","components/modal.js","AppUI.js","App.js","index.js"],"names":["TodoContext","React","createContext","TodoProvider","props","itemName","initialValue","useState","error","setError","loading","setLoading","item","setItem","useEffect","setTimeout","parsedItem","localStorageItem","localStorage","getItem","JSON","parse","stringify","e","saveItem","newItem","stringifiedItem","useLocalStorage","todos","saveTodos","searchValue","setSearchValue","openModal","setOpenModal","completedTodos","filter","todo","complete","length","totalTodos","searchedTodos","todoText","text","toLowerCase","searchText","includes","Provider","value","completeTodo","todoIndex","findIndex","newTodos","deleteTodo","splice","addTodo","push","children","TodoCounter","useContext","TodoSearch","onChange","event","target","className","type","placeholder","TodoList","TodoItem","completeClass","checkedVal","onComplete","checked","onClick","onDelete","CreateTodo","buttonClass","prevState","TodoForm","newTodoValue","setNewTodoValue","onSubmit","preventDefault","Modal","ReactDOM","createPortal","document","getElementById","AppUI","Fragment","map","App","render"],"mappings":"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","file":"static/js/main.c4f37d84.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useLocalStorage } from \"./useLocalStorage\";\r\n\r\nconst TodoContext = React.createContext();\r\n\r\nfunction TodoProvider(props) {\r\n  const {\r\n    item: todos,\r\n    saveItem: saveTodos,\r\n    error,\r\n    loading,\r\n  } = useLocalStorage(\"TODOS_V1\", []);\r\n\r\n  const [searchValue, setSearchValue] = React.useState(\"\");\r\n  const [openModal, setOpenModal] = React.useState(false)\r\n  const completedTodos = todos.filter((todo) => !!todo.complete).length;\r\n  const totalTodos = todos.length;\r\n\r\n  let searchedTodos = [];\r\n\r\n  if (!searchValue.length >= 1) {\r\n    searchedTodos = todos;\r\n  } else {\r\n    searchedTodos = todos.filter((todo) => {\r\n      const todoText = todo.text.toLowerCase();\r\n      const searchText = searchValue.toLowerCase();\r\n\r\n      return todoText.includes(searchText);\r\n    });\r\n  }\r\n\r\n  const completeTodo = (text) => {\r\n    const todoIndex = todos.findIndex((todo) => todo.text === text);\r\n    const newTodos = [...todos];\r\n\r\n    newTodos[todoIndex].complete = !newTodos[todoIndex].complete;\r\n    saveTodos(newTodos);\r\n  };\r\n\r\n  const addTodo = (text) => {\r\n\r\n    const newTodos = [...todos];\r\n    newTodos.push({\r\n      text: text,\r\n      complete: false\r\n    })\r\n    saveTodos(newTodos);\r\n  };\r\n  const deleteTodo = (text) => {\r\n    const todoIndex = todos.findIndex((todo) => todo.text === text);\r\n    const newTodos = [...todos];\r\n\r\n    newTodos.splice(todoIndex, 1);\r\n    saveTodos(newTodos);\r\n  };\r\n  return (\r\n    <TodoContext.Provider\r\n      value={{\r\n        loading,\r\n        error,\r\n        totalTodos,\r\n        completedTodos,\r\n        searchValue,\r\n        setSearchValue,\r\n        searchedTodos,\r\n        completeTodo,\r\n        deleteTodo,\r\n        openModal,\r\n        setOpenModal,\r\n        addTodo\r\n      }}\r\n    >\r\n      {props.children}\r\n    </TodoContext.Provider>\r\n  );\r\n}\r\n\r\nexport {TodoContext, TodoProvider}","import React from 'react';\r\n\r\nfunction useLocalStorage(itemName, initialValue) {\r\n    const [error, setError] = React.useState(false);\r\n    const [loading, setLoading] = React.useState(true);\r\n    const [item, setItem] = React.useState(initialValue);\r\n  \r\n    React.useEffect(() => {\r\n      //en este caso usamos el setTimeOut para simular el delay de la carga de\r\n      setTimeout(() => {\r\n        try {\r\n          const localStorageItem = localStorage.getItem(itemName);\r\n  \r\n          let parsedItem;\r\n  \r\n          if (!localStorageItem) {\r\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\r\n            parsedItem = initialValue;\r\n          } else {\r\n            parsedItem = JSON.parse(localStorageItem);\r\n          }\r\n          setItem(parsedItem);\r\n          setLoading(false);\r\n        } catch (e) {\r\n          setError(e);\r\n        }\r\n      }, 1000);\r\n    });\r\n  \r\n    const saveItem = (newItem) => {\r\n      try {\r\n        const stringifiedItem = JSON.stringify(newItem);\r\n        localStorage.setItem(itemName, stringifiedItem);\r\n    \r\n        setItem(newItem);\r\n      }catch (e) {\r\n        setError(e);\r\n      }\r\n  \r\n    };\r\n  \r\n    return {\r\n      item, \r\n      saveItem,\r\n      loading,\r\n      error,\r\n    };\r\n  }\r\n  \r\nexport {useLocalStorage}","import React from 'react';\r\nimport { TodoContext } from '../TodoContext';\r\n\r\nfunction TodoCounter() {\r\n    const {totalTodos, completedTodos} = React.useContext(TodoContext)\r\n    return(\r\n        <h1>Has completado {completedTodos} de {totalTodos} todo</h1>\r\n    )\r\n}\r\n\r\nexport {TodoCounter}","import React from 'react';\r\nimport { TodoContext } from '../TodoContext';\r\nfunction TodoSearch() {\r\n\r\n    const {searchValue,setSearchValue} = React.useContext(TodoContext)\r\n    const onSearchValueChanged = event => {\r\n        setSearchValue(event.target.value)\r\n        \r\n    }\r\n    return(\r\n        <input \r\n        onChange={onSearchValueChanged}\r\n        className=\"search\" \r\n        type=\"text\" \r\n        value={searchValue}\r\n        placeholder=\"Busca lo que quieras 🔍\"/>\r\n    )\r\n}\r\n\r\nexport {TodoSearch}","import React from 'react'\r\n\r\nfunction TodoList(props) {\r\n    return (\r\n       <section className=\"todoList\">\r\n           <ul>\r\n            {props.children}\r\n           </ul>\r\n   \r\n       </section>\r\n    )\r\n}\r\n\r\nexport {TodoList} ","import React from \"react\";\r\n\r\nfunction TodoItem(props) {\r\n\r\n  let completeClass = (props.complete) ? 'completed' : ''\r\n  let checkedVal = (props.complete) ? 'checked=\"checked\"' : ''\r\n  return (\r\n    <li className={completeClass}>\r\n      <div>\r\n        <input type=\"checkbox\" onChange={props.onComplete}  checked={checkedVal}/>\r\n        <p>{props.text}</p>\r\n      </div>\r\n      <button onClick={props.onDelete}>X</button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport { TodoItem };\r\n","import React from 'react';\r\nfunction CreateTodo(props) {\r\n    const onClickButton = () => {\r\n        props.setOpenModal(prevState => !prevState)\r\n    }\r\n    let buttonClass = !props.openModal ? \"createTodo\" : \"createTodo clouse\";\r\n  \r\n    return(\r\n        <button className={buttonClass} type='button' onClick={onClickButton}>+</button>\r\n    )\r\n}\r\n\r\nexport {CreateTodo}","import React from \"react\";\r\nimport {TodoContext} from \"../TodoContext\"\r\n\r\nfunction TodoForm() {\r\n   const [newTodoValue, setNewTodoValue] = React.useState('')\r\n    const { addTodo, setOpenModal } = React.useContext(TodoContext)\r\n    const onSubmit = (event) => {\r\n      event.preventDefault()\r\n      addTodo(newTodoValue)\r\n      setOpenModal(false)\r\n      \r\n    };\r\n    const onChange = (event) => {\r\n        setNewTodoValue(event.target.value)\r\n    };\r\n    const onCancel = () => {\r\n        setOpenModal(false)\r\n       \r\n    };\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <label>Escribe tu nuevo To Do</label>\r\n      <textarea\r\n        value={newTodoValue} \r\n        onChange={onChange}\r\n        placeholder=\"Escribe una nueva tarea\"\r\n      />\r\n      <div className=\"TodoForm-buttonContainer\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"TodoForm-button TodoForm-button-cancel\"\r\n          onClick={onCancel}\r\n        >\r\n          Cancelar\r\n        </button>\r\n\r\n        <button className=\"TodoForm-button TodoForm-button-add\" type=\"submit\">\r\n          Añadir\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport { TodoForm };\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nfunction Modal({children}){\r\n    return ReactDOM.createPortal(\r\n            <div className=\"modal\">\r\n                {children}\r\n            </div>    \r\n        ,\r\n            document.getElementById('modal')\r\n        )\r\n}\r\n\r\nexport {Modal}","import React from \"react\";\r\nimport { TodoCounter } from \"./components/TodoCounter\";\r\nimport { TodoSearch } from \"./components/TodoSearch\";\r\nimport { TodoList } from \"./components/TodoList\";\r\nimport { TodoItem } from \"./components/TodoItem\";\r\nimport { CreateTodo } from \"./components/CreateTodo\";\r\nimport { TodoForm } from \"./components/TodoForm\";\r\nimport { TodoContext } from \"./TodoContext\";\r\nimport {Modal} from \"./components/modal\";\r\nimport \"./scss/App.scss\";\r\n\r\n/* const defaultTodos = [\r\n  {text:\"Cortar Cebolla\", complete: false},\r\n  {text:\"Tomar curso\", complete: true},\r\n  {text:\"Llorar con la llorona\", complete: false},\r\n  {text:\"Cortar Cebolla 2\", complete: false},\r\n\r\n] */\r\n\r\nfunction AppUI() {\r\n  const {\r\n    error,\r\n    loading,\r\n    searchedTodos,\r\n    completeTodo,\r\n    deleteTodo,\r\n    openModal,\r\n    setOpenModal\r\n  } = React.useContext(TodoContext);\r\n\r\n  return (\r\n    <React.Fragment>\r\n\r\n        <TodoCounter />\r\n\r\n        <TodoSearch />\r\n\r\n        <TodoList>\r\n          {error && <p>Error en la carga</p>}\r\n          {loading && <p>Cargando ....</p>}\r\n          {!loading && !searchedTodos.length && <p>Crea nuevos todos</p>}\r\n          {searchedTodos.map((todo) => (\r\n            <TodoItem\r\n              key={todo.text}\r\n              text={todo.text}\r\n              complete={todo.complete}\r\n              onComplete={() => completeTodo(todo.text)}\r\n              onDelete={() => deleteTodo(todo.text)}\r\n            />\r\n          ))}\r\n        </TodoList>\r\n           {!!openModal && (\r\n              <Modal>\r\n              <TodoForm/>\r\n            </Modal>\r\n           )}\r\n        <CreateTodo \r\n          setOpenModal = {setOpenModal}\r\n          openModal = {openModal}\r\n        />\r\n \r\n    </React.Fragment>\r\n  );\r\n}\r\nexport { AppUI };\r\n","import React from 'react';\nimport { TodoProvider } from './TodoContext';\nimport { AppUI } from './AppUI';\n\n\nfunction App() {\n  return (\n    <TodoProvider>\n      <AppUI />\n    </TodoProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n/* import './index.css'; */\nimport App from './App';\n\nReactDOM.render(\n\n    <App />,\n \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}